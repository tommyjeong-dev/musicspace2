<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Music Space V2</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/form.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="css/admin-main.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="admin-layout">
        <!-- ÏÇ¨Ïù¥ÎìúÎ∞î ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
        <nav class="admin-sidebar">
            <div class="sidebar-header">
                <h2>Admin Panel</h2>
                <div id="user-info" class="user-info" style="display: none;">
                    <div class="user-avatar">
                        <span id="user-initial">A</span>
                    </div>
                    <div class="user-details">
                        <div class="user-name" id="username">Admin</div>
                        <div class="user-role">Administrator</div>
                    </div>
                </div>
            </div>
            
            <ul class="sidebar-menu">
                <li class="menu-item active" data-tab="dashboard">
                    <a href="#" class="menu-link">
                        <span class="menu-icon">üìä</span>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="menu-item" data-tab="songs">
                    <a href="#" class="menu-link">
                        <span class="menu-icon">üéµ</span>
                        <span class="menu-text">Song Management</span>
                    </a>
                </li>
                <li class="menu-item" data-tab="users">
                    <a href="#" class="menu-link">
                        <span class="menu-icon">üë•</span>
                        <span class="menu-text">User Management</span>
                    </a>
                </li>
                <li class="menu-item" data-tab="system">
                    <a href="#" class="menu-link">
                        <span class="menu-icon">‚öôÔ∏è</span>
                        <span class="menu-text">System Management</span>
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <a href="index.html" class="footer-link">
                    <span class="menu-icon">üè†</span>
                    <span class="menu-text">Main Page</span>
                </a>
                <button id="logout-btn" class="footer-link logout-btn">
                    <span class="menu-icon">üö™</span>
                    <span class="menu-text">Logout</span>
                </button>
            </div>
        </nav>

        <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† ÏòÅÏó≠ -->
        <main class="admin-main">
            <!-- ÎåÄÏãúÎ≥¥Îìú ÌÉ≠ -->
            <div id="dashboard-tab" class="tab-content active">
                <div class="tab-header">
                    <h1>Dashboard</h1>
                    <p>ÏãúÏä§ÌÖú Ï†ÑÏ≤¥ ÌòÑÌô©Í≥º ÌÜµÍ≥ÑÎ•º ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                </div>

                <!-- ÌÜµÍ≥Ñ Ïπ¥ÎìúÎì§ -->
                <div class="stats-overview">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-users">0</div>
                            <div class="stat-label">Total Users</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéµ</div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-songs">0</div>
                            <div class="stat-label">Total Songs</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-playlists">0</div>
                            <div class="stat-label">Total Playlists</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üîì</div>
                        <div class="stat-content">
                            <div class="stat-number" id="public-songs">0</div>
                            <div class="stat-label">Public Songs</div>
                        </div>
                    </div>
                </div>

                <!-- Ï∞®Ìä∏ ÏÑπÏÖò -->
                <div class="charts-section">
                    <div class="chart-container">
                        <h3>Genre Distribution</h3>
                        <canvas id="genre-chart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>User Activity</h3>
                        <canvas id="user-chart"></canvas>
                    </div>
                </div>

                <!-- ÏµúÍ∑º ÌôúÎèô ÏÑπÏÖò -->
                <div class="recent-activity">
                    <h3>Recent Songs</h3>
                    <div class="activity-list" id="recent-songs-list">
                        <!-- ÏµúÍ∑º ÎÖ∏Îûò Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Î°úÎìúÎê©ÎãàÎã§ -->
                    </div>
                </div>
            </div>

            <!-- ÎÖ∏Îûò Í¥ÄÎ¶¨ ÌÉ≠ -->
            <div id="songs-tab" class="tab-content">
                <div class="tab-header">
                    <h1>Song Management</h1>
                    <p>ÎÖ∏ÎûòÎ•º Ï∂îÍ∞Ä, ÏàòÏ†ï, ÏÇ≠Ï†úÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                </div>

                <!-- ÏÉà ÎÖ∏Îûò Ï∂îÍ∞Ä ÏÑπÏÖò -->
                <div class="add-song-section">
                    <div class="section-header">
                        <h2 class="section-title">My Song List</h2>
                        <button id="toggle-add-form-btn" class="btn-primary">Add a New Song</button>
                    </div>
                    
                    <!-- ÏÉà ÎÖ∏Îûò Ï∂îÍ∞Ä Ìèº (Í∏∞Î≥∏Ï†ÅÏúºÎ°ú Ïà®ÍπÄ) -->
                    <div id="add-song-form-container" class="add-form-container" style="display: none;">
                        <h3>Add a New Song</h3>
                        <form id="add-song-form" enctype="multipart/form-data">
                            <label for="songFile">ÏùåÏïÖ ÌååÏùº ÏÑ†ÌÉù:</label>
                            <input type="file" id="songFile" name="songFile" accept="audio/*" required>
                            
                            <input type="text" id="title" name="title" placeholder="ÎÖ∏Îûò Ï†úÎ™©" required>
                            <input type="text" id="artist" name="artist" placeholder="ÏïÑÌã∞Ïä§Ìä∏">
                            <input type="text" id="composer" name="composer" placeholder="ÏûëÍ≥°Í∞Ä">
                            <input type="text" id="genre" name="genre" placeholder="Ïû•Î•¥">
                            <input type="text" id="date" name="date" placeholder="Î∞úÎß§Ïùº (YYYY.MM.DD ÌòïÏãù)" pattern="[0-9]{4}\.[0-9]{2}\.[0-9]{2}" title="YYYY.MM.DD ÌòïÏãùÏúºÎ°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî (Ïòà: 2025.01.01)" required>
                            <textarea id="lyrics" name="lyrics" placeholder="Í∞ÄÏÇ¨"></textarea>
                            
                            <div class="privacy-setting">
                                <label for="isPublic">Í≥µÍ∞ú ÏÑ§Ï†ï:</label>
                                <select id="isPublic" name="isPublic" required>
                                    <option value="true">Í≥µÍ∞ú - Î™®Îì† ÏÇ¨Ïö©ÏûêÍ∞Ä Î≥º Ïàò ÏûàÏùå</option>
                                    <option value="false">ÎπÑÍ≥µÍ∞ú - ÎÇòÎßå Î≥º Ïàò ÏûàÏùå</option>
                                </select>
                            </div>
                            
                            <div class="form-buttons">
                                <button type="submit">ÎÖ∏Îûò Ï∂îÍ∞ÄÌïòÍ∏∞</button>
                                <button type="button" id="cancel-add-btn">Ï∑®ÏÜå</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Í≥†Í∏â ÎÖ∏Îûò Í¥ÄÎ¶¨ ÏÑπÏÖò -->
                <div class="advanced-song-management">
                    <div class="management-header">
                        <div class="search-and-filters">
                            <input type="text" id="song-search-input" placeholder="ÎÖ∏Îûò Ï†úÎ™©, ÏïÑÌã∞Ïä§Ìä∏Î°ú Í≤ÄÏÉâ...">
                            <select id="genre-filter">
                                <option value="">Î™®Îì† Ïû•Î•¥</option>
                                <option value="Ballad">Ballad</option>
                                <option value="Rock">Rock</option>
                                <option value="Pop">Pop</option>
                                <option value="Jazz">Jazz</option>
                                <option value="Classical">Classical</option>
                            </select>
                            <select id="privacy-filter">
                                <option value="">Î™®Îì† Í≥µÍ∞ú ÏÑ§Ï†ï</option>
                                <option value="true">Í≥µÍ∞ú</option>
                                <option value="false">ÎπÑÍ≥µÍ∞ú</option>
                            </select>
                            <button id="search-songs-btn" class="btn-search">Í≤ÄÏÉâ</button>
                            <button id="clear-filters-btn" class="btn-clear">Ï¥àÍ∏∞Ìôî</button>
                        </div>
                        
                        <div class="bulk-actions">
                            <button id="select-all-btn" class="btn-select-all">Ï†ÑÏ≤¥ ÏÑ†ÌÉù</button>
                            <button id="bulk-delete-btn" class="btn-bulk-delete" disabled>ÏÑ†ÌÉù ÏÇ≠Ï†ú</button>
                            <button id="bulk-public-btn" class="btn-bulk-public" disabled>ÏÑ†ÌÉù Ìï≠Î™© Í≥µÍ∞ú</button>
                            <button id="bulk-private-btn" class="btn-bulk-private" disabled>ÏÑ†ÌÉù Ìï≠Î™© ÎπÑÍ≥µÍ∞ú</button>
                        </div>
                    </div>
                    
                    <div class="song-stats">
                        <span id="total-songs-count">Ï¥ù ÎÖ∏Îûò: 0</span>
                        <span id="selected-count">ÏÑ†ÌÉùÎê®: 0</span>
                    </div>
                </div>

                <ul id="song-management-list" class="song-list">
                    <!-- ÎÖ∏Îûò Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Î°úÎìúÎê©ÎãàÎã§ -->
                </ul>
            </div>

            <!-- ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨ ÌÉ≠ -->
            <div id="users-tab" class="tab-content">
                <div class="tab-header">
                    <h1>User Management</h1>
                    <p>ÏÇ¨Ïö©Ïûê Í≥ÑÏ†ïÏùÑ Í¥ÄÎ¶¨ÌïòÍ≥† Í∂åÌïúÏùÑ Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                </div>

                <!-- ÏÇ¨Ïö©Ïûê Î™©Î°ù ÏÑπÏÖò -->
                <div class="users-section">
                    <div class="section-header">
                        <h2 class="section-title">All Users</h2>
                        <div class="user-stats">
                            <span id="total-users-count">Total: 0</span>
                            <span id="admin-count">Admins: 0</span>
                        </div>
                    </div>
                    
                    <!-- ÏÇ¨Ïö©Ïûê Î™©Î°ù ÌÖåÏù¥Î∏î -->
                    <div class="users-table-container">
                        <table class="users-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Role</th>
                                    <th>Songs</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="users-list">
                                <!-- ÏÇ¨Ïö©Ïûê Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Î°úÎìúÎê©ÎãàÎã§ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ÏãúÏä§ÌÖú Í¥ÄÎ¶¨ ÌÉ≠ -->
            <div id="system-tab" class="tab-content">
                <div class="tab-header">
                    <h1>System Management</h1>
                    <p>ÏãúÏä§ÌÖú ÏÉÅÌÉúÎ•º Î™®ÎãàÌÑ∞ÎßÅÌïòÍ≥† Î∞±ÏóÖÏùÑ Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                </div>

                <!-- ÏãúÏä§ÌÖú ÏÉÅÌÉú ÏÑπÏÖò -->
                <div class="system-status-section">
                    <h3>System Status</h3>
                    <div class="status-cards">
                        <div class="status-card">
                            <div class="status-icon">üñ•Ô∏è</div>
                            <div class="status-content">
                                <div class="status-label">Server Uptime</div>
                                <div class="status-value" id="server-uptime">Loading...</div>
                            </div>
                        </div>
                        <div class="status-card">
                            <div class="status-icon">üíæ</div>
                            <div class="status-content">
                                <div class="status-label">Memory Usage</div>
                                <div class="status-value" id="memory-usage">Loading...</div>
                            </div>
                        </div>
                        <div class="status-card">
                            <div class="status-icon">üóÑÔ∏è</div>
                            <div class="status-content">
                                <div class="status-label">Database Size</div>
                                <div class="status-value" id="database-size">Loading...</div>
                            </div>
                        </div>
                        <div class="status-card">
                            <div class="status-icon">‚öôÔ∏è</div>
                            <div class="status-content">
                                <div class="status-label">Node Version</div>
                                <div class="status-value" id="node-version">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Î∞±ÏóÖ Í¥ÄÎ¶¨ ÏÑπÏÖò -->
                <div class="backup-section">
                    <h3>Database Backup</h3>
                    <div class="backup-controls">
                        <button id="create-backup-btn" class="btn-backup">
                            <span class="btn-icon">üíæ</span>
                            Create Backup
                        </button>
                        <button id="refresh-status-btn" class="btn-refresh">
                            <span class="btn-icon">üîÑ</span>
                            Refresh Status
                        </button>
                    </div>
                    <div id="backup-status" class="backup-status">
                        <!-- Î∞±ÏóÖ ÏÉÅÌÉúÍ∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                    </div>
                </div>

                <!-- ÏãúÏä§ÌÖú Î°úÍ∑∏ ÏÑπÏÖò -->
                <div class="logs-section">
                    <h3>System Logs</h3>
                    <div class="logs-controls">
                        <button id="load-logs-btn" class="btn-load-logs">
                            <span class="btn-icon">üìã</span>
                            Load Logs
                        </button>
                        <button id="clear-logs-btn" class="btn-clear-logs">
                            <span class="btn-icon">üóëÔ∏è</span>
                            Clear Display
                        </button>
                    </div>
                    <div class="logs-container">
                        <div id="logs-list" class="logs-list">
                            <!-- Î°úÍ∑∏Í∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div class="home-link-container">
        <a href="login.html" id="login-link">Î°úÍ∑∏Ïù∏</a>
    </div>

    <script src="js/admin-main.js"></script>
</body>
</html>
